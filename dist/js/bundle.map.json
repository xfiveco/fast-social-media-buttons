{"version":3,"sources":["node_modules/browser-pack/_prelude.js","assets/js/main.js","assets/js/modules/shareButtons.js"],"names":["require","module","exports","querySharedCount","apikey","request","XMLHttpRequest","open","url","onload","this","status","data","JSON","parse","response","displayCount","Facebook","total_count","LinkedIn","GooglePlusOne","send","selector","count","element","document","querySelector","innerHTML","style","display","updateShareUrls","buttons","shareButtons","querySelectorAll","i","length","new_url","getAttribute","replace","setAttribute","encodeURIComponent","location","href"],"mappings":"AAAA;ACEA,YAEAA,SAAQ;;ACAR,YAEAC,QAAOC,QAAU,WAiBf,QAASC,KACP,GAAIC,GAAS,2CACTC,EAAU,GAAIC,eAElBD,GAAQE,KAAK,MAAO,kCAAoCH,EAAS,QAAUI,GAAK,GAEhFH,EAAQI,OAAS,WACf,GAAIC,KAAKC,QAAU,KAAOD,KAAKC,OAAS,IAAK,CAC3C,GAAIC,GAAOC,KAAKC,MAAMJ,KAAKK,SAC3BC,GAAa,eAAgBJ,EAAKK,SAASC,aAC3CF,EAAa,qBAAsBJ,EAAKO,UACxCH,EAAa,uBAAwBJ,EAAKQ,iBAI9Cf,EAAQgB,OAQV,QAASL,GAAaM,EAAUC,GAE9B,GAAIC,GAAUC,SAASC,cAAcJ,EAEjCE,KAEED,GAAmB,IAAVA,EACXC,EAAQG,UAAYJ,EAGpBC,EAAQI,MAAMC,QAAU,QAQ9B,QAASC,KAEP,IAAK,GADDC,GAAUC,EAAaC,iBAAiB,KACnCC,EAAI,EAAGA,EAAIH,EAAQI,OAAQD,IAAK,CACvC,GAAIE,GAAUL,EAAQG,GAAGG,aAAa,QAAQC,QAAQ,QAAS9B,EAC/DuB,GAAQG,GAAGK,aAAa,OAAQH,IAzDpC,GAAIJ,GAAeP,SAASC,cAAc,qBACtClB,EAAMgC,mBAAmBC,SAASC,KAGlCV,KACF7B,IACA2B","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// Fast Social Media Share Buttons\n\n\"use strict\";\n\nrequire('./modules/shareButtons')();\n","/**\n * Displays number of shares in share buttons by calling SharedCount.com API\n */\n\n'use strict';\n\nmodule.exports = function() {\n\n  /**\n   * Share Buttons element\n   */\n  var shareButtons = document.querySelector('.js-share-buttons');\n  var url = encodeURIComponent(location.href);\n\n  // Check if there are any share buttons\n  if (shareButtons) {\n    querySharedCount();\n    updateShareUrls();\n  }\n\n  /**\n   * Call SharedCount.com API for number of shares\n   */\n  function querySharedCount() {\n    var apikey = \"f1fb220a7cfd371ad071fd44c7745575397ed2d4\"; // Please register at sharedcount.com for your own API key, this one is limited to xfiveco.github.io\n    var request = new XMLHttpRequest();\n\n    request.open('GET', '//free.sharedcount.com/?apikey=' + apikey + '&url=' + url, true);\n\n    request.onload = function() {\n      if (this.status >= 200 && this.status < 400) {\n        var data = JSON.parse(this.response);\n        displayCount('.js-fb-count', data.Facebook.total_count);\n        displayCount('.js-linkedin-count', data.LinkedIn);\n        displayCount('.js-googleplus-count', data.GooglePlusOne);\n      }\n    };\n\n    request.send();\n  }\n\n  /**\n   * Displays number of shares in a button\n   * @param  {string} selector Button selector\n   * @param  {number} count   Number of shares\n   */\n  function displayCount(selector, count) {\n\n    var element = document.querySelector(selector);\n\n    if (element) {\n      // We only display non-zero values\n      if (count && count !== 0) {\n        element.innerHTML = count;\n      // If there are no shares, hide the count element inside the button\n      } else {\n        element.style.display = 'none';\n      }\n    }\n  }\n\n  /**\n   * Insert proper sharing URL to sharer links\n   */\n  function updateShareUrls() {\n    var buttons = shareButtons.querySelectorAll('a');\n    for (var i = 0; i < buttons.length; i++) {\n      var new_url = buttons[i].getAttribute('href').replace('{url}', url);\n      buttons[i].setAttribute('href', new_url)\n    }\n  }\n};\n"]}